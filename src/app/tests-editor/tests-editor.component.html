<form (ngSubmit)="Submit()">
    <h2 class="text-center m-0">Тесты</h2>
    <div class="p-4 border-round w-full w-full mx-auto justify-center items-center">
        <div class="card flex justify-content-center mb-4">
            <p-selectButton [options]="modes" [allowEmpty]="false" [(ngModel)]="mode" optionLabel="label" name="modes"
                optionValue="mode" />
        </div>
    </div>

    <div *ngIf="!mode" class="flex-column justify-content-center mb-4">
        <label for="block" class="block text-900 font-medium mb-2">Тест<span
                class="text-red-500 text-sm">*</span></label>
        <p-dropdown styleClass="w-full bg-primary-50" [options]="tests" name="test" (onChange)="SetTest()"
            (onFocus)="LoadTests()" [(ngModel)]="selectedTest" optionLabel="test" [filter]="true"
            filterBy="title" [showClear]="true" placeholder="Выберите тест для редактирования"
            filterPlaceholder="Заголовок" emptyFilterMessage="Не найдено">
            <ng-template pTemplate="selectedItem" let-selectedOption>
                <div class="text-primary flex align-items-center gap-2">
                    <div>{{ selectedOption.title }}</div>
                </div>
            </ng-template>
            <ng-template let-test pTemplate="item">
                <div class="flex align-items-center gap-2">
                    <div>{{ test.title }}</div>
                </div>
            </ng-template>
        </p-dropdown>
        <hr class="mb-5 mt-4">
    </div>

    <div class="flex flex-column gap-2 mb-3" *ngFor="let field of inputFields">
        <label [for]="field.name">{{ field.title }}<span class="text-red-500">*</span></label>
        <input pInputText (ngModelChange)="onInputChange()" [placeholder]="field.placeholder"
            [name]="field.name" [(ngModel)]="inputValues[field.name]" />
    </div>
</form><p-toast position="bottom-right" />